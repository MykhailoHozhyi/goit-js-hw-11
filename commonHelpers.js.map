{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = cardInfo => {\n  return `\n    <li class=\"gallery-card\">\n  <a class=\"gallery-link\" href=\"${cardInfo.largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${cardInfo.webformatURL}\" alt=\"${cardInfo.tags}\" />\n  </a>\n\n  <div class=\"info-box\">\n    <ul class=\"info-list\">\n      <li class=\"info-item\">\n        <h3 class=\"info-item-title\">Likes</h3>\n        <p class=\"info-item-value\">${cardInfo.likes}</p>\n      </li>\n      <li class=\"info-item\">\n        <h3 class=\"info-item-title\">Views</h3>\n        <p class=\"info-item-value\">${cardInfo.views}</p>\n      </li>\n      <li class=\"info-item\">\n        <h3 class=\"info-item-title\">Comments</h3>\n        <p class=\"info-item-value\">${cardInfo.comments}</p>\n      </li>\n      <li class=\"info-item\">\n        <h3 class=\"info-item-title\">Downloads</h3>\n        <p class=\"info-item-value\">${cardInfo.downloads}</p>\n      </li>\n    </ul>\n  </div>\n</li>\n  `;\n};\n","const BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchPictures(userQuery) {\n  const options = new URLSearchParams({\n    key: '45541049-685ffcd160f6cd622b440ebf7',\n    q: userQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${options}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n","import { createGalleryCard } from './js/render-functions';\nimport { fetchPictures } from './js/pixabay-api';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst searchPicturesForm = document.querySelector('.search-picture-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst largePicture = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionsDelay: 250,\n});\n\nsearchPicturesForm.addEventListener('submit', onSearchPictureFormSubmit);\n\nfunction onSearchPictureFormSubmit(event) {\n  event.preventDefault();\n  loader.classList.remove('is-hidden');\n\n  const userQuery = searchPicturesForm.elements.user_query.value.trim();\n\n  fetchPictures(userQuery)\n    .then(data => {\n      loader.classList.add('is-hidden');\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        gallery.innerHTML = '';\n        searchPicturesForm.reset();\n        loader.classList.add('is-hidden');\n        return;\n      }\n\n      const galleryCards = data.hits\n        .map(imgInfo => createGalleryCard(imgInfo))\n        .join('');\n\n      gallery.innerHTML = galleryCards;\n      largePicture.refresh();\n      searchPicturesForm.reset();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n"],"names":["createGalleryCard","cardInfo","BASE_URL","fetchPictures","userQuery","options","response","searchPicturesForm","gallery","loader","largePicture","SimpleLightbox","onSearchPictureFormSubmit","event","data","iziToast","galleryCards","imgInfo","err"],"mappings":"6vBAAO,MAAMA,EAAoBC,GACxB;AAAA;AAAA,kCAEyBA,EAAS,aAAa;AAAA,sCAClBA,EAAS,YAAY,UAAUA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAO7CA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIjBA,EAAS,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ICvBjDC,EAAW,2BAEV,SAASC,EAAcC,EAAW,CACvC,MAAMC,EAAU,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAO,EAAE,EAAE,KAAKC,GAAY,CACtD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCZA,MAAMC,EAAqB,SAAS,cAAc,sBAAsB,EAClEC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAe,IAAIC,EAAe,aAAc,CACpD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,cAAe,GACjB,CAAC,EAEDJ,EAAmB,iBAAiB,SAAUK,CAAyB,EAEvE,SAASA,EAA0BC,EAAO,CACxCA,EAAM,eAAc,EACpBJ,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAML,EAAYG,EAAmB,SAAS,WAAW,MAAM,OAE/DJ,EAAcC,CAAS,EACpB,KAAKU,GAAQ,CAEZ,GADAL,EAAO,UAAU,IAAI,WAAW,EAC5BK,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDP,EAAQ,UAAY,GACpBD,EAAmB,MAAK,EACxBE,EAAO,UAAU,IAAI,WAAW,EAChC,MACD,CAED,MAAMO,EAAeF,EAAK,KACvB,IAAIG,GAAWjB,EAAkBiB,CAAO,CAAC,EACzC,KAAK,EAAE,EAEVT,EAAQ,UAAYQ,EACpBN,EAAa,QAAO,EACpBH,EAAmB,MAAK,CAC9B,CAAK,EACA,MAAMW,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL"}